{"version":3,"file":"assets/js/common.c8e442b58a2e897a0c78.js","sources":["webpack:///./pages/utils/commons.js"],"sourcesContent":["var $ = require('jquery')\r\nrequire('./service-workers.js')\r\n\r\nwindow.addEventListener('scroll', function() {\r\n  // mapShow()\r\n})\r\n\r\nfunction navShow() {\r\n  if (!$('.sj_nav-fixed').hasClass('sj_nav-show') && window.pageYOffset >= 85) {\r\n    $('.sj_nav-fixed').addClass('sj_nav-show');\r\n  }\r\n  if ($('.sj_nav-fixed').hasClass('sj_nav-show') && window.pageYOffset < 85) {\r\n    $('.sj_nav-fixed').removeClass('sj_nav-show');\r\n  }\r\n}\r\n\r\n// detect obj is visible to load obj\r\n$(window).on('scroll', function (e) {\r\n  e.preventDefault();\r\n  var timer\r\n  \r\n  clearTimeout(timer)\r\n\r\n  timer = setTimeout(function() {\r\n    // back-to-top\r\n    backTop();\r\n    // nav\r\n    navShow();\r\n  }, 1000)\r\n})\r\n\r\n// back-to-top\r\nvar backToTop = $(\".back-to-top\");\r\nbackToTop.on(\"click\", function (e) {\r\n  e.preventDefault();\r\n  $(\"html, body\").animate({\r\n    scrollTop: 0\r\n  }, 800)\r\n});\r\n\r\nfunction backTop() {\r\n  var sTop = $(window).scrollTop(),\r\n    winH = $(window).height()\r\n  sTop > winH ? backToTop.fadeIn() : backToTop.fadeOut();\r\n}\r\n\r\n// map\r\nfunction loadMap() {\r\n  var BMap = require('BMap');\r\n  var map = new BMap.Map('map'); // 创建Map实例\r\n  var point = new BMap.Point('116.526831', '39.911978'); // 创建点坐标\r\n  map.centerAndZoom(point, 15);\r\n\r\n  var marker = new BMap.Marker(point); // 创建标注\r\n  map.addOverlay(marker); // 将标注添加到地图中\r\n  map.enableScrollWheelZoom(); // 启用滚轮放大缩小\r\n  var opts = {\r\n    width: 200, // 信息窗口宽度\r\n    height: 100, // 信息窗口高度\r\n    title: \"圣捷集团\", // 信息窗口标题\r\n  }\r\n  var infoWindow = new BMap.InfoWindow(\"地址：北京市朝阳区高碑店西店村46号楼\", opts); // 创建信息窗口对象\r\n  var timer = setTimeout(function () {\r\n    map.openInfoWindow(infoWindow, point); // 信息窗口\r\n  }, 1000);\r\n}\r\n\r\nfunction mapShow() {\r\n  if (!document.body.querySelector('.BMap_mask') && (document.getElementById('map').getBoundingClientRect().top > -300 && document.getElementById('map').getBoundingClientRect().top < window.innerHeight)) {\r\n    loadMap();\r\n  }\r\n}\r\n\r\n\r\n// banner\r\nvar carousel = require('./carousel')\r\n\r\n$('#banner>.carousel').Carousel({\r\n  index: 0,\r\n  auto: true,\r\n  time: 3000,\r\n  indicators: true\r\n})\r\n\r\n\r\n// map-siste\r\nif($(window).width() < 576) {\r\n  $('.sj_map-nav').find('.sj_arrow-more').on('click', function() {\r\n    if($(this).hasClass('active')) {\r\n      $(this).removeClass('active')\r\n      $(this).find('.sj_map-menu').slideUp()\r\n    } else {\r\n      $(this).addClass('active').find('.sj_map-menu').slideDown() \r\n    }\r\n  })\r\n}\r\n\r\n// lazyload\r\nvar lazyload = require('./lazyload-img.js');\r\n\r\nlazyload(document.querySelectorAll('.lazy'))"],"mappings":"AAAA","sourceRoot":""}